# ==============================================================================
# MQTT / HiveMQ Cloud - Example Configuration
# ==============================================================================
# This example shows how to configure the recorder to publish recordings
# to HiveMQ Cloud via MQTT
#
# Prerequisites:
# 1. Create a HiveMQ Cloud account at https://www.hivemq.com/mqtt-cloud-broker/
# 2. Create a new cluster (free tier available)
# 3. Create MQTT credentials in Access Management
# 4. Copy this configuration to your .env file
# ==============================================================================

# Set upload target to MQTT
UPLOAD_TARGET=mqtt

# ==============================================================================
# MQTT Broker Configuration
# ==============================================================================

# HiveMQ Cloud cluster URL (without protocol)
# Example: xxxxxxxx.s1.eu.hivemq.cloud
# You can find this in your HiveMQ Cloud Console under "Cluster Overview"
MQTT_BROKER=xxxxxxxx.s1.eu.hivemq.cloud

# MQTT Port
# - 8883: TLS/SSL (recommended for HiveMQ Cloud)
# - 1883: Non-encrypted (not recommended for cloud)
MQTT_PORT=8883

# ==============================================================================
# MQTT Authentication
# ==============================================================================

# Username and password from HiveMQ Cloud Access Management
# Create these in: HiveMQ Cloud Console → Access Management → Add Credentials
MQTT_USERNAME=your-mqtt-username
MQTT_PASSWORD=your-mqtt-password

# ==============================================================================
# MQTT Topic Configuration
# ==============================================================================

# Topic where recordings will be published
# Recommendations:
# - Use a hierarchical structure: recordings/location/device
# - Example: recordings/office/raspberrypi01
# - Default: recordings/meetings
MQTT_TOPIC=recordings/meetings

# ==============================================================================
# TLS/SSL Configuration
# ==============================================================================

# Enable TLS/SSL encryption
# HiveMQ Cloud REQUIRES TLS, so this should always be true
# Set to false only for local testing without encryption
MQTT_USE_TLS=true

# ==============================================================================
# Message Format
# ==============================================================================
# When a recording is completed, it will be published as a JSON message:
# {
#   "filename": "meeting-20251115-123456.flac",
#   "timestamp": "2025-11-15T12:34:56.789012",
#   "size": 1234567,
#   "mimetype": "audio/flac",
#   "data": "base64-encoded-flac-file-content"
# }
#
# QoS Level: 1 (At least once delivery)
# ==============================================================================

# ==============================================================================
# Subscribing to Messages (Example)
# ==============================================================================
# You can subscribe to the topic using mosquitto_sub or any MQTT client:
#
# mosquitto_sub -h xxxxxxxx.s1.eu.hivemq.cloud -p 8883 \
#   -u "your-mqtt-username" -P "your-mqtt-password" \
#   -t "recordings/meetings" --capath /etc/ssl/certs/
#
# Or use an MQTT client library in your application to process recordings
# ==============================================================================

# ==============================================================================
# Display Configuration (Required for GUI)
# ==============================================================================
DISPLAY=:0
