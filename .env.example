# ==============================================================================
# meetrec-pi Environment Configuration
# ==============================================================================
# Kopiera denna fil till .env och fyll i dina varden.
# Ladda sedan in: set -a; source .env; set +a

# ==============================================================================
# DISPLAY (Grafisk miljo)
# ==============================================================================
# Nodvandig for att kora Tkinter GUI. Vanligtvis ":0" pa Raspberry Pi med desktop.
# Om DISPLAY inte ar satt kan GUI:t inte starta.
DISPLAY=:0

# ==============================================================================
# LJUDINSTALLNINGAR - Optimerade för ElevenLabs och ReSpeaker 4-Mic Array
# ==============================================================================
# Sample rate: 16000 Hz är max för ReSpeaker 4-Mic Array och optimal för ElevenLabs
# ElevenLabs kräver: PCM S16LE, 16-bit, 16 kHz mono
SAMPLE_RATE=16000

# Ljudformat: S16_LE = 16-bit PCM little-endian (standard för ElevenLabs)
AUDIO_FORMAT=S16_LE

# Antal kanaler att visa i testläget (ReSpeaker har 4 mikrofoner)
CHANNELS_TEST=4

# Antal kanaler vid inspelning:
# - 1 = Mono (standard, fungerar med alla mikrofoner)
# - 4 = Alla 4 mikrofoner (ReSpeaker 4-Mic Array, kombineras till mono vid konvertering)
# Med 4 kanaler får du bättre ljudkvalitet genom att kombinera alla mikrofoner
CHANNELS_RECORD=1

# ALSA-enhet (lämna tom för standardenhet, eller t.ex. "hw:1,0" för ReSpeaker)
# Hitta tillgängliga enheter med: arecord -l
#ALSA_DEVICE=hw:1,0

# ==============================================================================
# AVANCERADE LJUDINSTALLNINGAR - ElevenLabs-optimering
# ==============================================================================
# Högpassfilter frekvens (Hz) - tar bort lågfrekvent brus och rumsakustik
# Standard: 80 Hz (bevarar mer bas än tidigare 150 Hz)
HIGHPASS_FREQ=80

# Lågpassfilter frekvens (Hz) - tar bort högfrekvent brus
# Standard: 8000 Hz (Nyquist-gräns vid 16 kHz sample rate)
LOWPASS_FREQ=8000

# Aktivera brusreducering med FFT-baserad denoiser
# Ger renare ljud men kan påverka röstkaraktären något
ENABLE_NOISE_REDUCTION=true

# EBU R128 loudness-normalisering målnivå (LUFS)
# -16 LUFS är optimal för voice cloning med ElevenLabs
LOUDNORM_TARGET=-16

# ==============================================================================
# UPPLADDNING - Valj mal
# ==============================================================================
# UPLOAD_TARGET bestammer var filer laddas upp efter inspelning.
# Mojliga varden: "gdrive" (standard), "s3", "http", "n8n", "mqtt"
UPLOAD_TARGET=gdrive

# ==============================================================================
# GOOGLE DRIVE (rekommenderat for Raspberry Pi)
# ==============================================================================
# Mapp-ID i Google Drive dar filer ska laddas upp (finns i URL:en nar du oppnar mappen)
DRIVE_FOLDER_ID=

# Valj autentiseringsmetod: "service_account" eller "oauth"
DRIVE_AUTH_TYPE=service_account

# --- Service Account (rekommenderas for oovervakad drift pa Pi) ---
# Sokvag till Service Account JSON-nyckelfil fran Google Cloud Console
# Du maste dela Drive-mappen med Service Account-e-postadressen
DRIVE_SERVICE_ACCOUNT_JSON=

# --- OAuth (kraver engangs-inloggning via terminal) ---
# Sokvag till OAuth client_secret.json fran Google Cloud Console
DRIVE_CLIENT_SECRETS=

# Sokvag dar OAuth-token ska sparas (skapas automatiskt vid forsta korningen)
DRIVE_TOKEN_PATH=

# ==============================================================================
# AWS S3 (alternativ uppladdning)
# ==============================================================================
# AWS-region for S3-bucket
AWS_REGION=eu-north-1

# Namnet pa S3-bucketen dar filer ska laddas upp
S3_BUCKET=

# (Valfritt) Anpassad S3-kompatibel endpoint (for t.ex. MinIO, DigitalOcean Spaces)
S3_ENDPOINT_URL=

# ==============================================================================
# HTTP UPLOAD (alternativ uppladdning)
# ==============================================================================
# URL till HTTP-endpoint for filuppladdning
HTTP_UPLOAD_URL=

# (Valfritt) Authorization-header for HTTP-uppladdning (t.ex. "Bearer <token>")
HTTP_AUTH_HEADER=

# ==============================================================================
# N8N WORKFLOW (alternativ uppladdning)
# ==============================================================================
# URL till n8n webhook-endpoint for filuppladdning
# Exempel: https://your-n8n-instance.com/webhook/your-workflow-id
N8N_WEBHOOK_URL=

# (Valfritt) Authorization-header for n8n webhook (t.ex. "Bearer <token>")
# Anvands om din n8n webhook kraver autentisering
N8N_AUTH_HEADER=

# ==============================================================================
# MQTT KONTROLL (fjärrstyrning av enheten)
# ==============================================================================
# Aktivera MQTT-kontroll (true/false)
MQTT_ENABLED=false

# MQTT Broker-adress (hostname eller IP)
# För HiveMQ Cloud: använd URL från HiveMQ Cloud Console
MQTT_BROKER=localhost

# MQTT Broker-port (standard: 1883 för oencrypterad, 8883 för TLS)
# HiveMQ Cloud kräver port 8883 med TLS
MQTT_PORT=1883

# MQTT användarnamn (lämna tom om ingen autentisering krävs)
# HiveMQ Cloud kräver användarnamn
MQTT_USERNAME=

# MQTT lösenord (lämna tom om ingen autentisering krävs)
# HiveMQ Cloud kräver lösenord
MQTT_PASSWORD=

# MQTT topic-prefix för denna enhet (t.ex. "meetrec/enhet1")
# Topic prefix normaliseras automatiskt (tar bort ledande/avslutande snedstreck,
# dubbla snedstreck och mellanslag för maximal kompatibilitet med HiveMQ Cloud)
MQTT_TOPIC_PREFIX=meetrec/device

# Aktivera TLS/SSL (true/false) - KRÄVS för HiveMQ Cloud
MQTT_USE_TLS=false

# Tillåt osäkra TLS-anslutningar utan certifikatverifiering (true/false)
# Sätt till true vid problem med certifikat, men använd inte i produktion
MQTT_TLS_INSECURE=false

# MQTT Client ID (valfritt, genereras automatiskt om tom)
# Användbart för att identifiera specifika enheter i broker-loggar
MQTT_CLIENT_ID=

# ==============================================================================
# ENHETSKONFIGURATION
# ==============================================================================
# Rum eller plats där enheten är installerad
DEVICE_ROOM=

# E-postadress som ska användas när inspelningar skickas
DEVICE_EMAIL=

# Webhook URL för notifieringar eller anpassad hantering
DEVICE_WEBHOOK_URL=
